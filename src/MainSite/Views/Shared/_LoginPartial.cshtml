@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@if (SignInManager.IsSignedIn(User))
{
    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        <i class="fa fa-user-circle fa-lg" aria-hidden="true"></i>
        <span class="hidden-xs">@UserManager.GetUserName(User)</span>
    </a>
    <ul class="dropdown-menu">
        <!-- User image -->
        <li class="user-header">
            <i class="fa fa-user-circle fa-5x" style="color: white" aria-hidden="true"></i>
            <p>
                @UserManager.GetUserName(User)
            </p>
        </li>
        <!-- Menu Body -->
        <li class="user-body">
            <div class="row">

            </div>
            <!-- /.row -->
        </li>
        <!-- Menu Footer-->
        <li class="user-footer">
            <div class="pull-left">
                <a asp-area="" asp-controller="Manage" asp-action="Index" title="Manage" class="btn btn-default btn-flat">Manage</a>
            </div>
            <div class="pull-right">
                <form asp-area="" asp-controller="Account" asp-action="LogOff" method="post" id="logoutForm" class="navbar-right">
                    @* ReSharper disable once PossiblyUnassignedProperty *@
                    <a class="btn btn-default btn-flat" href="#" onclick="$(this).closest('form').submit()">Logout</a>
                </form>
            </div>
        </li>
    </ul>
}
else
{
    <a asp-area="" asp-controller="Account" asp-action="Login">Log in</a>
}